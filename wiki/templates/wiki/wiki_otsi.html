{% extends "wiki/wiki_base.html" %}
{% load staticfiles %}
{% load wiki_extras %}

{% block breadcrumb %}
{% endblock %}

{% block src %}
  <!-- development version, includes helpful console warnings -->
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"></script>
{% endblock %}

{% block css %}
{% endblock %}

{% block content %}
{% verbatim %}
  <div id="kroonika-api">
    <div class="header">
      Otsi:
      <input id="question" v-model="question">
      &nbsp;{{ answer }}
    </div>
    <div class="w3-cell-row">
      <div class="w3-cell" style="width:25%">
        <div class="w3-cell-row w3-hover-white">
          <p>Isikuid: {{ isik_results_count }}{{ isik_message }}</p>
          <ul class="w3-ul">
            <li class="w3-padding-small" style="list-style-type:none;" v-for="result in isik_results">
              <a class="hover-isik" v-bind:href="result.link">{{ result.eesnimi }} {{ result.perenimi }}</a>
            </li>
          </ul>
        </div>
        <div class="w3-cell-row w3-hover-white">
          <p>Asutisi: {{ organisatsioon_results_count }}{{ organisatsioon_message}}</p>
          <ul class="w3-ul">
            <li class="w3-padding-small" style="list-style-type:none;" v-for="result in organisatsioon_results">
                <a class="hover-organisatsioon" v-bind:href="result.link">{{ result.nimi }}</a>
            </li>
          </ul>
        </div>
        <div class="w3-cell-row w3-hover-white">
          <p>Kohti: {{ objekt_results_count }}{{ objekt_message}}</p>
          <ul class="w3-ul">
            <li class="w3-padding-small" style="list-style-type:none;" v-for="result in objekt_results">
                <a class="hover-objekt" v-bind:href="result.link">{{ result.nimi }}</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="w3-cell w3-hover-white">

        <p>Lugusid: {{ artikkel_results_count }}{{ artikkel_message}}</p>
        <ul class="w3-ul">
          <li class="w3-padding-small" style="list-style-type:none;" v-for="result in artikkel_results">
              <a class="hover-artikkel" v-bind:href="result.link">
                {{ result.hist_year}}:{{ result.body_text.slice(0, 100) }}
              </a>
          </li>
        </ul>

      </div>
    </div>
  </div>
{% endverbatim %}
{% endblock %}

{% block javascript %}
  <script type="text/javascript">
    var kroonika_url = "{{ kroonika_url }}"
    var question = "{{ question }}"
  </script>
  <script src="{% static 'wiki/js/wiki_otsi.js'%}"></script>
{% endblock %}