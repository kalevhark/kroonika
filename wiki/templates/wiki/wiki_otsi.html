{% extends "wiki/wiki_base.html" %}
{% load staticfiles %}
{% load wiki_extras %}

{% block breadcrumb %}
{% endblock %}

{% block src %}
  <!-- development version, includes helpful console warnings -->
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"></script>
{% endblock %}

{% block css %}
<style>
* {
  box-sizing: border-box;
}

ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
    /* width: 300px; */
    background-color: #f1f1f1;
}

li a {
    display: block;
    color: #000;
    /* padding: 8px 16px; */
    text-decoration: none;
    /* line-height: 0.8; */
}

/* Change the link color on hover */
li a:hover {
    background-color: #555;
    color: white;
}

.column {
    float: left;
}

/* Left column */
.column.left {
    width: 25%;
}

/* Right column */
.column.right {
    width: 75%;
}

/* Clear floats after the columns */
.row:after {
    content: "";
    display: table;
    clear: both;
}

/* Responsive layout - makes the three columns stack on top of each other instead of next to each other */
@media screen and (max-width: 600px) {
    .column.left, .column.right {
        width: 100%;
    }
}

.box-small {
    background-color: #f1f1f1;
    width: 100%;
    height: 190px;
    text-align: left;
    overflow: auto;
    padding-left: 20px;
}

.box-big {
    background-color: #f1f1f1;
    width: 100%;
    height: 570px;
    text-align: left;
    overflow: auto;
    padding-left: 20px;
}

/* Neid pole vaja */
.flex-container {
    display: flex;
    flex-wrap: nowrap;
    // background-color: #555;
}

.flex-container .box {
    background-color: #f1f1f1;
    width: 33%;
    // margin: 10px;
    text-align: left;
    // font-size: 12px;
}
</style>
{% endblock %}

{% block content %}
{% verbatim %}
  <div id="kroonika-api">
    <div class="header">
      Otsi:
      <input id="question" v-model="question">
      &nbsp;{{ answer }}
    </div>
    <div class="row">
      <div class="column left">
        <div  class="box-small">
          <p>Isikuid: {{ isik_results_count }}{{ isik_message }}</p>
          <ul>
            <li v-for="result in isik_results">
              <a v-bind:href="result.link">{{ result.eesnimi }} {{ result.perenimi }}</a>
            </li>
          </ul>
        </div>
        <div class="box-small">
          <p>Asutisi: {{ organisatsioon_results_count }}{{ organisatsioon_message}}</p>
          <ul>
            <li v-for="result in organisatsioon_results">
                <a v-bind:href="result.link">{{ result.nimi }}</a>
            </li>
          </ul>
        </div>
        <div class="box-small">
          <p>Kohti: {{ objekt_results_count }}{{ objekt_message}}</p>
          <ul>
            <li v-for="result in objekt_results">
                <a v-bind:href="result.link">{{ result.nimi }}</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="column right">
        <div class="box-big">
          <p>Lugusid: {{ artikkel_results_count }}{{ artikkel_message}}</p>
          <ul>
            <li v-for="result in artikkel_results">
                <a v-bind:href="result.link">{{ result.hist_year}}:{{ result.body_text.slice(0, 100) }}</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
{% endverbatim %}
{% endblock %}

{% block javascript %}
  <script type="text/javascript">
    var kroonika_url = "{{ kroonika_url }}"
    var question = "{{ question }}"
  </script>
  <script src="{% static 'wiki/js/wiki_otsi.js'%}"></script>
{% endblock %}