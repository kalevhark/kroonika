<!--  Muutuja: cls: pilt-portree-medium, pilt-postkaart-medium -->

<!-- Sisukaardi pildiosa-->
<div class="w3-third">
  {% if profiilipilt %} <!-- Kui on määratud profiilipilt -->
    <div class="w3-margin-right w3-center">
      <img
          class="{{cls}}"
          id="profiiliPilt"
          src="{{ profiilipilt.pilt.url }}"
          alt="{{ profiilipilt.caption }}"
          title="{{ profiilipilt }}"
      />
      <small>
        <div class="w3-center" id="imgtext">
          {{ profiilipilt.caption }}
        </div>
      </small>
    </div>
  {% else %} <!-- Seotud piltide ankur -->
    <div class="w3-margin-right" style="display: none">
      <img
          id="profiiliPilt"
          src=""
          style="max-width:100%"
      />
      <small>
        <div class="w3-center" id="imgtext"></div>
      </small>
    </div>
  {% endif %}

  <!-- The Modal https://www.w3schools.com/howto/howto_css_modal_images.asp -->
  <div id="myModal" class="modal">
    <!-- The Close Button -->
    <span class="close">&times;</span>
    <!-- Modal Content (The Image) -->
    <img class="modal-content" id="img01"/>
    <!-- Modal Caption (Image Text) -->
    <div id="caption"></div>
  </div>
</div>

<script>
// Get the modal
var modal = document.getElementById("myModal");

// Get the image and insert it inside the modal - use its "alt" text as a caption
var img = document.getElementById("profiiliPilt");
var modalImg = document.getElementById("img01");
var captionText = document.getElementById("caption");
img.onclick = function(){
  modal.style.display = "block";
  modalImg.src = this.src;
  modalImg.alt = this.alt;
  captionText.innerHTML = this.alt;
}

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}
</script>